def save_csv_inflows_file(net)

	data_7day = [
		['0','11','22','33','44','55','66','77','8','88','888','8888','88888','888888','8888888'],
		['1.0','0.620006','0.780006','0.8','0.099994','0.8','0.737004','0.119989','0','0','0','0.8','0','0','0'],
		['1.0','0.519989','0.759989','0.739994','0.199989','0.729997','0.54101','0.179994','0','0','0','0.8','0','0','0'],
		['1.0','0.48','0.739994','0.700006','0.249997','0.679989','0.343989','0.130009','0','0','0','0.8','0','0.499994','0'],
		['1.0','0.489997','0.749991','0.679989','0.300006','0.620006','0.363001','0.119989','0','0','0','0.8','0','0.700006','0'],
		['1.0','0.569997','0.759989','0.729997','0.4','0.759989','0.375007','0.130009','0','0','0','0.8','0','0.899994','0'],
		['1.0','0.780006','0.749991','0.88','0.499994','0.860006','0.573991','0.390003','0','0','0','0.8','0','1.399989','0'],
		['1.0','1.049997','0.829991','1.159989','0.599989','1.12','1.031989','0.519989','0','0','0','1.500006','0','1.799989','0'],
		['1.0','1.219994','0.860006','1.2','0.8','1.309991','1.593997','0.839989','0','0','0','2.999989','0','1.900006','0'],
		['1.0','1.190003','0.919989','1.110003','0.999989','1.330009','1.524999','1.059994','0','0','0','4','0','2','0'],
		['1.0','1.110003','0.930009','0.999989','1.100006','1.369997','1.223007','1.44','0','0','0','4.499994','0','1.900006','0'],
		['1.0','1.129997','1.04','1.010009','1.250009','1.190003','1.18699','3.270003','0','0','0','4','0','1.500006','0'],
		['1.0','1.090009','1.139994','1.010009','1.6','1.149991','1.115001','2.729997','0','0','0','2.999989','0','0.999989','0'],
		['1.0','1.12','1.190003','0.999989','1.650009','1.190003','1.058009','2.489997','0','0','0','2','0','0.300006','0'],
		['1.0','1.149991','1.209997','1.020006','1.6','1.289997','1.030003','2.759989','0','0','0','1.500006','0','0.199989','0'],
		['1.0','1.159989','1.250009','0.999989','1.6','1.139994','0.871007','2.439989','0','0','0','1.250009','0','0.199989','0'],
		['1.0','1.159989','1.250009','0.999989','1.6','0.909991','0.871007','1.529997','0','0','0','0.999989','0','0.199989','0'],
		['1.0','1.139994','1.229991','1.090009','1.350003','0.899994','0.862996','0.969997','0','0','0','0.999989','0','0.199989','0'],
		['1.0','1.209997','1.239989','1.110003','1.2','1.079989','1.00501','0.710003','0','0','0','0.700006','0','0.8','0'],
		['1.0','1.260006','1.209997','1.149991','1.049997','0.889997','1.207989','0.659994','0','0','0','0.700006','0','0.999989','0'],
		['1.0','1.299994','1.219994','1.180006','0.999989','1.100006','1.244006','0.470003','0','0','0','0.499994','0','1.2','0'],
		['1.0','1.239989','1.159989','1.229991','0.999989','0.969997','1.491994','0.269991','0','0','0','0.499994','0','0.899994','0'],
		['1.0','1.2','1.079989','1.190003','0.899994','0.88','1.430003','0.300006','0','0','0','0.499994','0','0.499994','0'],
		['1.0','1.020006','0.88','1.069991','0.850009','0.979994','1.28','0.269991','0','0','0','0.499994','0','0','0'],
		['1.0','0.809997','0.829991','0.930009','0.700006','0.749991','1.036006','0.199989','0','0','0','0.499994','0','0','0'],
		['1.0','0.620006','0.780006','0.8','0.390003','0.8','0.737004','0.119989','0','0','0','0.700006','0','0','0'],
		['1.0','0.519989','0.759989','0.739994','0.4','0.729997','0.54101','0.179994','0','0','0','0.700006','0','0','0'],
		['1.0','0.48','0.739994','0.700006','0.390003','0.679989','0.343989','0.130009','0','0','0','0.700006','0','0.499994','0'],
		['1.0','0.489997','0.749991','0.679989','0.4','0.620006','0.363001','0.119989','0','0','0','0.749991','0','0.700006','0'],
		['1.0','0.569997','0.759989','0.729997','0.419994','0.759989','0.375007','0.130009','0','0','0','0.749991','0','0.899994','0'],
		['1.0','0.780006','0.749991','0.88','0.599989','0.860006','0.573991','0.390003','0','0','0','0.8','0','1.399989','0'],
		['1.0','1.049997','0.829991','1.159989','1.020006','1.12','1.031989','0.519989','0','0','0','1.500006','0','1.799989','0'],
		['1.0','1.219994','0.860006','1.2','1.539994','1.309991','1.593997','0.839989','0','0','0','2.8','0','1.900006','0'],
		['1.0','1.190003','0.919989','1.110003','1.479989','1.330009','1.524999','1.059994','0','0','0','3.799989','0','2','0'],
		['1.0','1.110003','0.930009','0.999989','1.209997','1.369997','1.223007','1.44','0','0','0','4.199989','0','1.900006','0'],
		['1.0','1.129997','1.04','1.010009','1.180006','1.190003','1.18699','3.270003','0','0','0','3.699994','0','1.500006','0'],
		['1.0','1.090009','1.139994','1.010009','1.12','1.149991','1.115001','2.729997','0','0','0','3.500006','0','0.999989','0'],
		['1.0','1.12','1.190003','0.999989','1.069991','1.190003','1.058009','2.489997','0','0','0.300006','2','0','0.300006','0'],
		['1.0','1.149991','1.209997','1.020006','1.049997','1.289997','1.030003','2.759989','0','0','0.700006','1.500006','0','0.199989','0'],
		['1.0','1.159989','1.250009','0.999989','1.100006','1.139994','0.871007','2.439989','0','0','0.999989','1.250009','0','0.199989','0'],
		['1.0','1.159989','1.250009','0.999989','1.149991','0.909991','0.871007','1.529997','0','0','1.100006','0.999989','0','0.199989','0'],
		['1.0','1.139994','1.229991','1.090009','1.2','0.899994','0.862996','0.969997','0','0','0.899994','0.999989','0','0.199989','0'],
		['1.0','1.209997','1.239989','1.110003','1.399989','1.079989','1.00501','0.710003','0','0','0.300006','0.700006','0','0.8','0'],
		['1.0','1.260006','1.209997','1.149991','1.699994','0.889997','1.207989','0.659994','0','0','0','0.700006','0','0.999989','0'],
		['1.0','1.299994','1.219994','1.180006','1.799989','1.100006','1.244006','0.470003','0','0','0','0.499994','0','1.2','0'],
		['1.0','1.239989','1.159989','1.229991','1.900006','0.969997','1.491994','0.269991','0','0','0','0.499994','0','0.899994','0'],
		['1.0','1.2','1.079989','1.190003','1.750003','0.88','1.430003','0.300006','0','0','0','0.499994','0','0.499994','0'],
		['1.0','1.020006','0.88','1.069991','1.399989','0.979994','1.28','0.269991','0','0','0','0.499994','0','0','0'],
		['1.0','0.809997','0.829991','0.930009','0.8','0.749991','1.036006','0.199989','0','0','0','0.499994','0','0','0'],
		['1.0','0.620006','0.780006','0.8','0.749991','0.8','0.737004','0.119989','0','0','0','0.700006','0','0','0'],
		['1.0','0.519989','0.759989','0.739994','0.569997','0.729997','0.54101','0.179994','0','0','0','0.700006','0','0','0'],
		['1.0','0.48','0.739994','0.700006','0.390003','0.679989','0.343989','0.130009','0','0','0','0.700006','0','0.499994','0'],
		['1.0','0.489997','0.749991','0.679989','0.4','0.620006','0.363001','0.119989','0','0','0','0.749991','0','0.700006','0'],
		['1.0','0.569997','0.759989','0.729997','0.419994','0.759989','0.375007','0.130009','0','0','0','0.749991','0','0.899994','0'],
		['1.0','0.780006','0.749991','0.88','0.599989','0.860006','0.573991','0.390003','0','0','0','0.8','0','1.399989','0'],
		['1.0','1.049997','0.829991','1.159989','1.020006','1.12','1.031989','0.519989','0','0','0','1.500006','0','1.799989','0'],
		['1.0','1.219994','0.860006','1.2','1.539994','1.309991','1.593997','0.839989','0','0','0','2.8','0','1.900006','0'],
		['1.0','1.190003','0.919989','1.110003','1.479989','1.330009','1.524999','1.059994','0','0','0','3.799989','0','2','0'],
		['1.0','1.110003','0.930009','0.999989','1.209997','1.369997','1.223007','1.44','0','0','0','4.199989','0','1.900006','0'],
		['1.0','1.129997','1.04','1.010009','1.180006','1.190003','1.18699','3.270003','0','0','0','3.699994','0','1.500006','0'],
		['1.0','1.090009','1.139994','1.010009','1.12','1.149991','1.115001','2.729997','0','0','0','3.500006','0','0.999989','0'],
		['1.0','1.12','1.190003','0.999989','1.069991','1.190003','1.058009','2.489997','0','0','0','2','0','0.300006','0'],
		['1.0','1.149991','1.209997','1.020006','1.049997','1.289997','1.030003','2.759989','0','0','0','1.500006','0','0.199989','0'],
		['1.0','1.159989','1.250009','0.999989','0.899994','1.139994','0.871007','2.439989','0','0','0','1.250009','0','0.199989','0'],
		['1.0','1.159989','1.250009','0.999989','0.889997','0.909991','0.871007','1.529997','0','0','0','0.999989','0','0.199989','0'],
		['1.0','1.139994','1.229991','1.090009','0.88','0.899994','0.862996','0.969997','0','0','0','0.999989','0','0.199989','0'],
		['1.0','1.209997','1.239989','1.110003','1.010009','1.079989','1.00501','0.710003','0','0','0','0.700006','0','0.8','0'],
		['1.0','1.260006','1.209997','1.149991','1.190003','0.889997','1.207989','0.659994','0','0','0','0.700006','0','0.999989','0'],
		['1.0','1.299994','1.219994','1.180006','1.229991','1.100006','1.244006','0.470003','0.999989','0','0','0.499994','0','1.2','0'],
		['1.0','1.239989','1.159989','1.229991','1.449997','0.969997','1.491994','0.269991','0','0','0','0.499994','0','0.899994','0'],
		['1.0','1.2','1.079989','1.190003','1.389991','0.88','1.430003','0.300006','0','0','0','0.499994','0','0.499994','0'],
		['1.0','1.020006','0.88','1.069991','1.250009','0.979994','1.28','0.269991','0','0','0','0.499994','0','0','0'],
		['1.0','0.809997','0.829991','0.930009','1.020006','0.749991','1.036006','0.199989','0','0','0','0.499994','0','0','0'],
		['1.0','0.620006','0.780006','0.8','0.749991','0.8','0.737004','0.119989','0','0','0','0.700006','0','0','0'],
		['1.0','0.519989','0.759989','0.739994','0.569997','0.729997','0.54101','0.179994','0','0','0','0.700006','0','0','0'],
		['1.0','0.48','0.739994','0.700006','0.390003','0.679989','0.343989','0.130009','0','0','0','0.700006','0','0.499994','0'],
		['1.0','0.489997','0.749991','0.679989','0.4','0.620006','0.363001','0.119989','0','0','0','0.749991','0','0.700006','0'],
		['1.0','0.569997','0.759989','0.729997','0.419994','0.759989','0.375007','0.130009','0','0','0','0.749991','0','0.899994','0'],
		['1.0','0.780006','0.749991','0.88','0.599989','0.860006','0.573991','0.390003','0','0','0','0.8','0','1.399989','0'],
		['1.0','1.049997','0.829991','1.159989','1.020006','1.12','1.031989','0.519989','0','0','0','1.500006','0','1.799989','0'],
		['1.0','1.219994','0.860006','1.2','1.539994','1.309991','1.593997','0.839989','0','0','0','2.8','0','1.900006','0'],
		['1.0','1.190003','0.919989','1.110003','1.479989','1.330009','1.524999','1.059994','0','0','0','3.799989','0','2','0'],
		['1.0','1.110003','0.930009','0.999989','1.209997','1.369997','1.223007','1.44','0','0','0','4.199989','0','1.900006','0'],
		['1.0','1.129997','1.04','1.010009','1.180006','1.190003','1.18699','3.270003','0','0','0','3.699994','0','1.500006','0'],
		['1.0','1.090009','1.139994','1.010009','1.12','1.149991','1.115001','2.729997','0','0','0','3.500006','0','0.999989','0'],
		['1.0','1.12','1.190003','0.999989','1.069991','1.190003','1.058009','2.489997','0','0','0','2','0','0.300006','0'],
		['1.0','1.149991','1.209997','1.020006','1.049997','1.289997','1.030003','2.759989','0','0','0.700006','1.500006','0','0.199989','0'],
		['1.0','1.159989','1.250009','0.999989','0.899994','1.139994','0.871007','2.439989','0','0','0.8','1.250009','0','0.199989','0'],
		['1.0','1.159989','1.250009','0.999989','0.889997','0.909991','0.871007','1.529997','0','0','1.12','0.999989','0','0.199989','0'],
		['1.0','1.139994','1.229991','1.090009','0.88','0.899994','0.862996','0.969997','0','0','0.899994','0.999989','0','0.199989','0'],
		['1.0','1.209997','1.239989','1.110003','1.010009','1.079989','1.00501','0.710003','0','0','0','0.700006','0','0.8','0'],
		['1.0','1.260006','1.209997','1.149991','1.190003','0.889997','1.207989','0.659994','0','0','0','0.700006','0','0.999989','0'],
		['1.0','1.299994','1.219994','1.180006','1.229991','1.100006','1.244006','0.470003','0','0','0','0.499994','0','1.2','0'],
		['1.0','1.239989','1.159989','1.229991','1.449997','0.969997','1.491994','0.269991','0','0','0','0.499994','0','0.899994','0'],
		['1.0','1.2','1.079989','1.190003','1.389991','0.88','1.430003','0.300006','0','0','0','0.499994','0','0.499994','0'],
		['1.0','1.020006','0.88','1.069991','1.250009','0.979994','1.28','0.269991','0','0','0','0.499994','0','0','0'],
		['1.0','0.809997','0.829991','0.930009','1.020006','0.749991','1.036006','0.199989','0','0','0','0.499994','0','0','0'],
		['1.0','0.620006','0.780006','0.8','0.749991','0.8','0.737004','0.119989','0','0','0','0.700006','0','0','0'],
		['1.0','0.519989','0.759989','0.739994','0.569997','0.729997','0.54101','0.179994','0','0','0','0.700006','0','0','0'],
		['1.0','0.48','0.739994','0.700006','0.390003','0.679989','0.343989','0.130009','0','0','0','0.700006','0','0.499994','0'],
		['1.0','0.489997','0.749991','0.679989','0.4','0.620006','0.363001','0.119989','0','0','0','0.749991','0','0.700006','0'],
		['1.0','0.569997','0.759989','0.729997','0.419994','0.759989','0.375007','0.130009','0','0','0','0.749991','0','0.899994','0'],
		['1.0','0.780006','0.749991','0.88','0.599989','0.860006','0.573991','0.390003','0','0','0','0.8','0','1.399989','0'],
		['1.0','1.049997','0.829991','1.159989','1.020006','1.12','1.031989','0.519989','0','0','0','1.500006','0','1.799989','0'],
		['1.0','1.219994','0.860006','1.2','1.539994','1.309991','1.593997','0.839989','0','0','0','2.8','0','1.900006','0'],
		['1.0','1.190003','0.919989','1.110003','1.479989','1.330009','1.524999','1.059994','0','0','0','3.799989','0','2','0'],
		['1.0','1.110003','0.930009','0.999989','1.209997','1.369997','1.223007','1.44','0','0','0','4.199989','0','1.900006','0'],
		['1.0','1.129997','1.04','1.010009','1.180006','1.190003','1.18699','3.270003','0','0','0','3.699994','0','1.500006','0'],
		['1.0','1.090009','1.139994','1.010009','1.12','1.149991','1.115001','2.729997','0','0','0','3.500006','0','0.999989','0'],
		['1.0','1.12','1.190003','0.999989','1.069991','1.190003','1.058009','2.489997','0','0','0','2','0','0.300006','0'],
		['1.0','1.149991','1.209997','1.020006','1.049997','1.289997','1.030003','2.759989','0','0','0','1.500006','0','0.199989','0'],
		['1.0','1.159989','1.250009','0.999989','0.899994','1.139994','0.871007','2.439989','0','0','0','1.250009','0','0.199989','0'],
		['1.0','1.159989','1.250009','0.999989','0.889997','0.909991','0.871007','1.529997','0','0','0','0.999989','0','0.199989','0'],
		['1.0','1.139994','1.229991','1.090009','0.88','0.899994','0.862996','0.969997','0','0','0','0.999989','0','0.199989','0'],
		['1.0','1.209997','1.239989','1.110003','1.010009','1.079989','1.00501','0.710003','0','0','0','0.700006','0','0.099994','0'],
		['1.0','1.260006','1.209997','1.149991','1.190003','0.889997','1.207989','0.659994','0','0','0','0.700006','0','0.099994','0'],
		['1.0','1.299994','1.219994','1.180006','1.229991','1.100006','1.244006','0.470003','0','0','0.499994','0.499994','0','0.099994','0'],
		['1.0','1.239989','1.159989','1.229991','1.449997','0.969997','1.491994','0.269991','0','0','0.599989','0.499994','0','0.099994','0'],
		['1.0','1.2','1.079989','1.190003','1.389991','0.88','1.430003','0.300006','0','0','0.599989','0.499994','0','0.099994','0'],
		['1.0','1.020006','0.88','1.069991','1.250009','0.979994','1.28','0.269991','0','0','0.700006','0.499994','0','0','0'],
		['1.0','0.809997','0.829991','0.930009','1.020006','0.749991','1.036006','0.199989','0','0','0.649997','0.499994','0','0','0'],
		['1.0','0.759989','1.030003','0.950003','1.069991','1.100006','1.079989','0','0','0','0.649997','0.700006','0','0','0'],
		['1.0','0.700006','0.999989','0.96','0.999989','0.989991','0.999989','0','0','0','0','0.700006','0','0.499994','0'],
		['1.0','0.669991','1.030003','0.969997','1.190003','1.139994','1.2','0','0','0','0','0.749991','0','0.700006','0'],
		['1.0','0.579994','1.04','0.899994','0.999989','0.899994','0.999989','0','0','0','0','0.749991','0','0.899994','0'],
		['1.0','0.599989','1.030003','0.850009','0.899994','0.969997','0.950003','0','0','0','0','0.749991','0','1.6','0'],
		['1.0','0.64','1.010009','0.749991','0.700006','0.8','0.679989','0','0','0','0','0.999989','0','1.900006','0'],
		['1.0','0.710003','0.999989','0.630003','0.4','0.649997','0.370009','0','0','0','0','1.190003','0','2.099994','0'],
		['1.0','0.909991','0.999989','0.759989','0.4','0.999989','0.359989','0','0','0','0','1.289997','0','2.499994','1.6'],
		['1.0','1.020006','1.010009','0.909991','0.599989','1.12','0.599989','0','0','0','0','1.299994','0','2.4','1.900006'],
		['1.0','1.209997','1.049997','1.2','1.100006','1.100006','1.190003','0','0','0.099994','0','1.469991','0','2.099994','2.099994'],
		['1.0','1.28','1.010009','1.239989','1.2','1.180006','1.289997','0','0','0.179994','0','1.479989','0','1.900006','2.4'],
		['1.0','1.260006','1.030003','1.239989','1.299994','1.149991','1.299994','0','0','0.189991','0','1.399989','0','0.899994','2.300006'],
		['1.0','1.219994','1.020006','1.219994','1.399989','0.940006','1.469991','0','0','0.179994','0','1.500006','0','0.499994','2'],
		['1.0','1.170009','1.079989','1.2','1.399989','0.860006','1.479989','0','0','0.130009','0','1.399989','0','0.199989','1.799989'],
		['1.0','1.250009','1.049997','1.250009','1.389991','1.059994','1.399989','0','0','0','0','1.2','0','0.199989','0.999989'],
		['1.0','1.229991','1.069991','1.250009','1.399989','1.020006','1.500006','0','0','0','0','1.010009','0','0.199989','0.099994'],
		['1.0','1.2','1.04','1.100006','1.350003','1.2','1.399989','0','0','0','0','0.899994','0','0.099994','0'],
		['1.0','1.2','1.030003','1.100006','1.100006','0.909991','1.2','0','0','0','0','0.8','0','0.099994','0'],
		['1.0','1.190003','1.020006','0.999989','0.999989','1.049997','1.010009','0','0','0','0','0.8','0','0.099994','0'],
		['1.0','1.219994','0.889997','0.999989','0.899994','0.690009','0.899994','0','0','0','0.889997','0.700006','0','0.099994','0'],
		['1.0','1.139994','0.839989','0.899994','0.8','1.069991','0.8','0','0','0','0.950003','0.899994','0','0.099994','0'],
		['1.0','1.049997','0.889997','0.899994','0.8','1.020006','0.8','0','0','0','0.999989','0.700006','0','0','0'],
		['1.0','0.940006','0.930009','0.860006','0.700006','0.739994','0.700006','0','0','0','0.950003','0.700006','0','0','0'],
		['1.0','0.819994','0.930009','0.870003','0.899994','1.330009','0.899994','0','0','0','0.930009','0.700006','0','0','0'],
		['1.0','0.759989','1.030003','0.950003','1.069991','1.100006','1.079989','0','0','0','0.8','0.700006','0','0','0'],
		['1.0','0.700006','0.999989','0.96','0.999989','0.989991','0.999989','0','0','0','0','0.700006','0','0','0'],
		['1.0','0.669991','1.030003','0.969997','1.190003','1.139994','1.2','0','0','0','0','0.749991','0','0.499994','0'],
		['1.0','0.579994','1.04','0.899994','0.999989','0.899994','0.999989','0','0','0','0','0.749991','0','0.700006','0'],
		['1.0','0.599989','1.030003','0.850009','0.899994','0.969997','0.950003','0','0','0','0','0.749991','0','0.899994','0'],
		['1.0','0.64','1.010009','0.749991','0.700006','0.8','0.679989','0','0','0','0','0.999989','0','1.6','0'],
		['1.0','0.710003','0.999989','0.630003','0.4','0.649997','0.370009','0','0','0','0','1.190003','0','1.900006','0'],
		['1.0','0.909991','0.999989','0.759989','0.4','0.999989','0.359989','0','0','0','0','1.289997','0.899994','2.099994','1.6'],
		['1.0','1.020006','1.010009','0.909991','0.599989','1.12','0.599989','0','0','0','0','1.299994','1.100006','2.499994','1.900006'],
		['1.0','1.209997','1.049997','1.2','1.100006','1.100006','1.190003','0','0','0.099994','0','1.469991','1.250009','2.4','2.099994'],
		['1.0','1.28','1.010009','1.239989','1.2','1.180006','1.289997','0','0','0.099994','0','1.479989','1.299994','2.099994','2.4'],
		['1.0','1.260006','1.030003','1.239989','1.299994','1.149991','1.299994','0','0','0.249997','0','1.399989','1.2','1.900006','2.300006'],
		['1.0','1.219994','1.020006','1.219994','1.399989','0.940006','1.469991','0','0','0.4','0','1.500006','1.100006','0.899994','2'],
		['1.0','1.170009','1.079989','1.2','1.399989','0.860006','1.479989','0','0','1.250009','0','1.399989','0.999989','0.499994','1.799989'],
		['1.0','1.250009','1.049997','1.250009','1.389991','1.059994','1.399989','0','0','0','0','1.2','0','0.199989','0.999989'],
		['1.0','1.229991','1.069991','1.250009','1.399989','1.020006','1.500006','0','0','0','0','1.010009','0','0.199989','0.099994'],
		['1.0','1.2','1.04','1.100006','1.350003','1.2','1.399989','0','0','0','0','0.899994','0','0.199989','0'],
		['1.0','1.2','1.030003','1.100006','1.100006','0.909991','1.2','0','0','0','0.700006','0.8','0','0.099994','0'],
		['1.0','1.190003','1.020006','0.999989','0.999989','1.049997','1.010009','0','0','0','0.8','0.8','0','0.099994','0'],
		['1.0','1.219994','0.889997','0.999989','0.899994','0.690009','0.899994','0','0','0','0.979994','0.700006','0','0.099994','0'],
		['1.0','1.139994','0.839989','0.899994','0.8','1.069991','0.8','0','0','0','0.979994','0.899994','0','0.099994','0'],
		['1.0','1.049997','0.889997','0.899994','0.8','1.020006','0.8','0','0','0','0.950003','0.700006','0','0.099994','0'],
		['1.0','0.940006','0.930009','0.860006','0.700006','0.739994','0.700006','0','0','0','0.700006','0.700006','0','0','0'],
		['1.0','0.819994','0.930009','0.870003','0.899994','1.330009','0.899994','0','0','0','0.4','0.700006','0','0','0']
	  ]

	  def print_table(data_7day, row, column)
		if row < data_7day.length && column < data_7day[row].length
		  return data_7day[row][column]
		else
		  return 1.0
		end
	  end

	  def find_column(data_7day, target)
		# Get the first row
		first_row = data_7day[0]
	  
		# Find the index of the target in the first row
		index = first_row.index(target)
	  
		# If the target is not found, index will be nil
		if index.nil?
		  return nil
		else
		  # Return the index
		  return index
		end
	  end
	    	
	# Define database fields for SWMM network nodes
	database_fields = [
	  "node_id",
	  "inflow_scaling",
	  'user_number_1',
	  'user_number_2',
	  'user_number_3',
	  'user_number_4',
	  'user_number_5',
	  'user_number_6',
	  'user_number_7',
	  'user_number_8',
	  'user_number_9',
	  'user_number_10',
	  'user_text_1',
	  'user_text_2',
	  'user_text_3',
	  'user_text_4',
	  'user_text_5',
	  'user_text_6',
	  'user_text_7',
	  'user_text_8',
	  'user_text_9',
	  'user_text_10'
	]

	net.clear_selection

	# Prepare hash for storing data of each field for database_fields
	fields_data = {}
	database_fields.each { |field| fields_data[field] = [] }

	# Initialize the count of processed rows
	row_count = 0
	table_index = 0
	total_expected = 0.0

	# Collect data for each field from sw_node
	net.row_objects('sw_node').each do |ro|
	row_count += 1
	database_fields.each do |field|
		fields_data[field] << ro[field] if ro[field]
		end
	end  

	# Initialize the counter and hash if they haven't been initialized
	print_counter = 0
	$new_user_number_sums ||= {}

	# Initialize an array to store the node IDs
	node_ids = []

	data_7day[1..-1].each_with_index do |csv_index|
	# Skip the first row since it's the header
	next if csv_index == 0
	table_index += 1

	# Iterate over each row object
	net.row_objects('sw_node').each do |ro|
		# Calculate the sum of all user numbers
		user_number_sum = (1..10).sum { |i| ro["user_number_#{i}"].to_f }
		# Add the node ID to the array
		if user_number_sum > 0.0 then
			#puts table_index,user_number_sum
			if table_index == 1 then node_ids << ro['node_id'] end
			end

		indexes = {}
		flows = {}
		(1..10).each do |i|
		key = "user_text_#{i}"
		flow = "user_number_#{i}"
		index = find_column(data_7day, ro[key])
		indexes[key] = index.nil? ? 0 : index
		flows[flow] = index.nil? ? 0 : index
		user_number_key = "user_number_#{i}"
		end
		combined_indexes = flows.merge(indexes)

		# Only process rows where the total of all the user numbers is greater than 0.0
		if user_number_sum > 0.0
		begin
			#print "#{user_number_sum},"
			#print "#{ro['node_id']},"
			# Use indexes
			new_user_number_sum = 0.0
			indexes.each do |key, value|
			if value > 0 then 
				user_number = ro["user_number_#{value}"]
				new_user_number_sum += user_number.to_f * print_table(data_7day, table_index, value).to_f * (1440.0/1000000.0)
				end
			end
			# Print a newline character to separate each row
			# Save the new user number sum to the hash

			print "#{new_user_number_sum},"
			# Increment the counter each time this line is executed
			print_counter += 1
			#puts print_counter
			#$new_user_number_sums[print_counter] = new_user_number_sum
			rescue => e
					#puts "An error occurred: #{e.message}"
				end
			end	
	end
	puts	
	end

	# CSV File Header 
	puts "!Version=1,type=QIN,encoding=MBCS"
	puts "FILECONT, TITLE"
	puts "2,1"
	puts "UserSettings,U_VALUES,U_DATETIME"
	puts "UserSettingsValues,m3/s,mm-dd-yyyy hh:mm"
	puts "G_START,G_TS,G_NPROFILES,G_DATATYPE"
	puts "12/20/2023 00:00:00,3600, #{node_ids.size},    0"
	puts "L_NODEID,L_PTITLE"

	# Print all of the node IDs in one column
	puts node_ids.join("\n")
	# Print all of the node IDs in one row separated by commas
	# Combine the node IDs and their indices into a single string
	combined_string = node_ids.each_with_index.map { |node_id, index| "#{index + 1}" }.join(',')
	# Print P_DATETIME followed by the combined string
	puts "P_DATETIME," + combined_string
	puts $new_user_number_sums.inspect
	end

	# Usage example
	begin
	net = WSApplication.current_network
	save_csv_inflows_file(net)
	rescue StandardError => e
		#puts "An error occurred: #{e.message}"
		end